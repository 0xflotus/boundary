# ***
# WARNING: Do not EDIT or MERGE this file, it is generated by packagespec.
# ***
lockid: d6abbd669b553b3c
packagespec-version: 0.1.2
cache-version: 7
packages:
- packagespecid: 6c6c1ed6a95bf40cd3440ca629be711e52983cd1
  inputs:
    BINARY_NAME: boundary
    BUILD_TAGS: ui
    CGO_ENABLED: "0"
    GOARCH: amd64
    GOOS: darwin
    PRODUCT_NAME: boundary
    PRODUCT_VERSION: 0.0.1
  meta:
    BUILD_JOB_NAME: darwin_amd64_package
    BUNDLE_NAME: boundary_0.0.1
    POST_PROCESSORS: apple-notarize av-scan
    builtin:
      BUILD_LAYERS:
      - type: copy-source
        name: 02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5
        archive: .buildcache/archives/02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5.tar.gz
      - type: download-modules
        name: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
        archive: .buildcache/archives/01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62.tar.gz
      - type: install-deps
        name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
        archive: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
      PACKAGE_CACHE_KEY_FILE: .buildcache/cache-keys/package-6c6c1ed6a95bf40cd3440ca629be711e52983cd1
    circleci:
      BUILDER_CACHE_KEY_PREFIX_LIST:
      - copy-source_0f2f_{{checksum ".buildcache/cache-keys/copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5"}}
      - download-modules_b298_{{checksum ".buildcache/cache-keys/download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62"}}
      - install-deps_2d16_{{checksum ".buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9"}}
      PACKAGE_CACHE_KEY: package-6c6c1ed6a95bf40cd3440ca629be711e52983cd1-{{checksum
        ".buildcache/cache-keys/package-6c6c1ed6a95bf40cd3440ca629be711e52983cd1"}}
  build-command: VERSION_PKG_PATH=github.com/hashicorp/boundary; unset GOPATH; go
    build -v -ldflags "-X $VERSION_PKG_PATH.Revision=$PACKAGE_SOURCE_ID -X $VERSION_PKG_PATH.Version=0.0.1"
    -o $OUTPUT_DIR/boundary ./cmd/boundary && cd $OUTPUT_DIR && zip $PACKAGE_ZIP_NAME
    boundary
  aliases:
  - type: local
    path: boundary_0.0.1_darwin_amd64.zip
  - type: public-hc-releases
    path: boundary/boundary_0.0.1/boundary_0.0.1_darwin_amd64.zip
- packagespecid: 69eebe797eef586c6713cc32c1ad0186a5268f51
  inputs:
    BINARY_NAME: boundary
    BUILD_TAGS: ui
    CGO_ENABLED: "0"
    GOARCH: amd64
    GOOS: linux
    PRODUCT_NAME: boundary
    PRODUCT_VERSION: 0.0.1
  meta:
    BUILD_JOB_NAME: linux_amd64_package
    BUNDLE_NAME: boundary_0.0.1
    POST_PROCESSORS: av-scan
    builtin:
      BUILD_LAYERS:
      - type: copy-source
        name: 02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5
        archive: .buildcache/archives/02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5.tar.gz
      - type: download-modules
        name: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
        archive: .buildcache/archives/01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62.tar.gz
      - type: install-deps
        name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
        archive: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
      PACKAGE_CACHE_KEY_FILE: .buildcache/cache-keys/package-69eebe797eef586c6713cc32c1ad0186a5268f51
    circleci:
      BUILDER_CACHE_KEY_PREFIX_LIST:
      - copy-source_0f2f_{{checksum ".buildcache/cache-keys/copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5"}}
      - download-modules_b298_{{checksum ".buildcache/cache-keys/download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62"}}
      - install-deps_2d16_{{checksum ".buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9"}}
      PACKAGE_CACHE_KEY: package-69eebe797eef586c6713cc32c1ad0186a5268f51-{{checksum
        ".buildcache/cache-keys/package-69eebe797eef586c6713cc32c1ad0186a5268f51"}}
  build-command: VERSION_PKG_PATH=github.com/hashicorp/boundary; unset GOPATH; go
    build -v -ldflags "-X $VERSION_PKG_PATH.Revision=$PACKAGE_SOURCE_ID -X $VERSION_PKG_PATH.Version=0.0.1"
    -o $OUTPUT_DIR/boundary ./cmd/boundary && cd $OUTPUT_DIR && zip $PACKAGE_ZIP_NAME
    boundary
  aliases:
  - type: local
    path: boundary_0.0.1_linux_amd64.zip
  - type: public-hc-releases
    path: boundary/boundary_0.0.1/boundary_0.0.1_linux_amd64.zip
base-image: golang@sha256:21408f9e65fbd1fac28d8a6788485a74f9029fece0086a25d1eaf1d8cc79b7ad
layers:
- depth: 0
  final: false
  type: install-deps
  id: 2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
  name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
  parentname: ""
  parenttype: ""
  parentid: ""
  cachekeyfile: .buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
  sourceinclude: ""
  sourceexclude: ""
  archivefile: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
  dockerfile: |
    FROM golang@sha256:21408f9e65fbd1fac28d8a6788485a74f9029fece0086a25d1eaf1d8cc79b7ad
    COPY . ./
    RUN apt-get update -y && apt-get install -yq zip
  meta:
    builtin:
      LAYER_LIST:
      - type: install-deps
        name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
        archive: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
    circleci:
      CACHE_KEY_PREFIX_LIST:
      - install-deps_2d16_{{checksum ".buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9"}}
  childcount: 1
- depth: 1
  final: false
  type: download-modules
  id: b298c74274cbe268d6b4c7826a0dd425f3138e62
  name: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
  parentname: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
  parenttype: install-deps
  parentid: 2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
  cachekeyfile: .buildcache/cache-keys/download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
  sourceinclude: go.mod go.sum
  sourceexclude: ""
  archivefile: .buildcache/archives/01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62.tar.gz
  dockerfile: |
    # syntax=docker/dockerfile:1.1.7-experimental
    ARG BASE_IMAGE
    FROM $BASE_IMAGE
    COPY . ./
    ENV GOPATH=
    ENV GOPRIVATE=github.com/hashicorp/*
    RUN mkdir -m 700 /root/.ssh; \
      touch -m 600 /root/.ssh/known_hosts; \
      ssh-keyscan github.com > /root/.ssh/known_hosts
    RUN git config --global url."git@github.com:".insteadOf https://github.com/
    RUN --mount=type=ssh go mod download -x
  meta:
    builtin:
      LAYER_LIST:
      - type: download-modules
        name: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
        archive: .buildcache/archives/01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62.tar.gz
      - type: install-deps
        name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
        archive: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
    circleci:
      CACHE_KEY_PREFIX_LIST:
      - download-modules_b298_{{checksum ".buildcache/cache-keys/download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62"}}
      - install-deps_2d16_{{checksum ".buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9"}}
  childcount: 1
- depth: 2
  final: true
  type: copy-source
  id: 0f2f67537f81b566bf36ede6b6d539dacf74a2a5
  name: 02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5
  parentname: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
  parenttype: download-modules
  parentid: b298c74274cbe268d6b4c7826a0dd425f3138e62
  cachekeyfile: .buildcache/cache-keys/copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5
  sourceinclude: '*.go'
  sourceexclude: ""
  archivefile: .buildcache/archives/02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5.tar.gz
  dockerfile: |
    # syntax=docker/dockerfile:1.1.7-experimental
    ARG BASE_IMAGE
    FROM $BASE_IMAGE
    COPY . ./
  meta:
    builtin:
      LAYER_LIST:
      - type: copy-source
        name: 02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5
        archive: .buildcache/archives/02-copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5.tar.gz
      - type: download-modules
        name: 01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62
        archive: .buildcache/archives/01-download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62.tar.gz
      - type: install-deps
        name: 00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9
        archive: .buildcache/archives/00-install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9.tar.gz
    circleci:
      CACHE_KEY_PREFIX_LIST:
      - copy-source_0f2f_{{checksum ".buildcache/cache-keys/copy-source-0f2f67537f81b566bf36ede6b6d539dacf74a2a5"}}
      - download-modules_b298_{{checksum ".buildcache/cache-keys/download-modules-b298c74274cbe268d6b4c7826a0dd425f3138e62"}}
      - install-deps_2d16_{{checksum ".buildcache/cache-keys/install-deps-2d16c6b83793b47aad77bb2e6ebb2ff70b64c1e9"}}
  childcount: 0
